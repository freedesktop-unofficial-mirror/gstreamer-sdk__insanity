<style type="text/css">
<!--
    /* The rest are ordinary style properties */
    table {
        border-collapse: collapse;
    }
    thead td, thead th {
        font-size: 90%%;
        line-height: 1.15em;
	margin: .5em 0 0 .5em;
	vertical-align: bottom;
    }
    th.side {
	vertical-align: text-top;
	text-align: right;
	border: 5pt;
    }
    td {
        border: 1px solid black;
	vertical-align: top;
    }
    td.first-in-round {
        border-left: 2px solid black;
    }
    td.last-in-round {
        border-right: 2px solid black;
    }
    td.result-ERROR {
         background: #FF0000;
    }
    td.result-FAIL {
         background: #FF0000;
    }
    td.result-skipped {
         background: #FFF650;
    }
    td.result-excluded * {
         color: #00FF00;
    }
    td.result-excluded {
         background: #00FF00;
    }
    td.result-OK {
         background: #00FF00;
    }
    table a {
         text-decoration: none;
    }
    table.inside {
	padding: 0;
	border: 0px;
    }
    table.summary, table.summary td {
         border: none;
    }
    table.summary td {
         padding: 0ex 1ex;
    } 
-->
</STYLE>
<table>
<tr><th></th><th>Test #{{ test.id }}</th></tr>
<tr>
  <th class="side">TestRun</th>
  <td><a href={{test.testrunid.get_absolute_url}}>{{test.testrunid}}</a></td>
</tr>

<tr>
  <th class="side">test type</th>
  <td>{{test.type.type}}</td>
</tr>

<tr>
  <th class="side">Success rate</th>
  <td>{{test.resultpercentage}}%</td>
<tr>

{% if test.is_scenario %}
{% if test.subtest.count %}
<tr>
  <th class="side">Subtests</th>
  <td>
    {% for subtest in test.subtest.all %}
    Test <a href={{subtest.testid.get_absolute_url}}>#{{ subtest.testid.id }}</a> Success:{{subtest.testid.resultpercentage}}%<br>
    {% endfor %}
  </td>
</tr>
{% endif %}{% endif %}

{% if test.is_subtest %}
<tr>
  <th class="side">Container</th>
  <td>Scenario #<a href={{test.parent.scenarioid.get_absolute_url}}>{{ test.parent.scenarioid.id }}</a></td>
</tr>
{% endif %}

{% if test.arguments.count %}
<tr>
  <th class="side">Arguments</th>
  <td>
    <table width="100%" class="inside">
      <tr><th/><th>Value</th><th>Description</th></tr>
      {% for arg in test.arguments.all %}
      <tr>
	<th class="side">{{arg.name.name}}</th>
	<td>{{arg.value}}</td>
	<td>{{arg.name.description}}</td>
      </tr>
      {% endfor %}
    </table>
    {% endif %}
  </td>
</tr>

{% if test.checklist.count %}
<tr>
  <th class="side">CheckList</th>
  <td>
    <table width="100%" class="inside">
      <tr><th/><th/><th>Description</th></tr>
      {% for check in test.checklist.all %}
      <tr>
      <th class="side">{{check.name.name}}</th>
      <td class="{%if check.value %}result-OK{% else %}result-FAIL{% endif %}">
	{{check.value}}
      </td>
      <td>{{check.name.description}}</td>
      </tr>
      {% endfor %}
    </table>
  </td>
</tr>
{% endif %}

{% if test.outputfiles.count %}
<tr>
  <th class="side">OutputFiles</th>
  <td>
    <ul>
      {% for outf in test.outputfiles.all %}
      <li>{{outf.name.name}} : {{outf.value}}</li>
      {% endfor %}
    </ul>
  </td>
</tr>
{% endif %}

{% if test.extrainfo.count %}
<tr>
  <th class="side">ExtraInfo</th>
  <td>
    <table class="inside">
      <tr>
	<th>Name</th>
	<th>Value</th>
	<th>Description</th>
      </tr>
      {% for extra in test.extrainfo.all %}
      <tr>
	<th class="side">{{extra.name.name}}</th>
	<td>{{extra.html_repr|safe}}</td>
	<td>{{extra.name.description}}</td>
      </tr>
      {% endfor %}
    </table>
    {% endif %}
  </td>
</tr>
</table>
